<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8"></meta>
<title>Powering A Nation Test Environment</title>
<link href="./js/video-js/video-js.css" rel="stylesheet">
<!-- <link href="./css/bootstrap.min.css" rel="stylesheet"> -->
<!-- <link href="./css/bootstrap-responsive.min.css" rel="stylesheet"> -->
<link href="./css/app.css" rel="stylesheet">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
<script src="./js/video-js/video.js"></script>
<script src="./js/d3.v3.js"></script>
<script src="./js/html5Preloader.js"></script>
<script src="http://popcornjs.org/code/dist/popcorn-complete.js"></script>
<script>
  videojs.options.flash.swf = "./js/video-js/video-js.swf"
</script>
</head>

<body>
	<!-- <div id="preloadScreen"></div> -->
	<div class="pageWrapper" id="pageWrapper">
			<div class="videoWrapper">
				<div id="basePlayer"></div>
				<video id="videoAct1" class="video-js" autoplay preload="auto" width="100%" height="100%">
					 <source  src="./vid/video1.mp4" type='video/mp4' />
					 <source  src="./vid/video1.webm" type='video/webm' />
					 <source  src="./vid/video1.ogv" type='video/ogg' />
				</video>
				<video id="videoAct2" class="video-js" autoplay preload="auto" width="100%" height="100%">
					 <source  src="./vid/video2.mp4" type='video/mp4' />
					 <source  src="./vid/video2.webm" type='video/webm' />
					 <source  src="./vid/video2.ogv" type='video/ogg' />
				</video>
				<video id="motionDams" class="video-js"  autoplay preload="auto" width="100%" height="100%">
					 <source  src="./vid/motionDams.mp4" type='video/mp4' />
					 <source  src="./vid/motionDams.webm" type='video/webm' />
					 <source  src="./vid/motionDams.ogv" type='video/ogg' />
				</video>
				<video id="videoAct3" class="video-js"  autoplay preload="auto" width="100%" height="100%">
					 <source  src="./vid/video3.mp4" type='video/mp4' />
					 <source  src="./vid/video3.webm" type='video/webm' />
					 <source  src="./vid/video3.ogv" type='video/ogg' />
				</video>
				<video id="motionPopulation" class="video-js"  autoplay preload="auto" width="100%" height="100%">
					 <source  src="./vid/motionPopulation.mp4" type='video/mp4' />
					 <source  src="./vid/motionPopulation.webm" type='video/webm' />
					 <source  src="./vid/motionPopulation.ogv" type='video/ogg' />
				</video>
				<video id="videoAct4" class="video-js"  autoplay preload="auto" width="100%" height="100%">
					 <source  src="./vid/video4.mp4" type='video/mp4' />
					 <source  src="./vid/video4.webm" type='video/webm' />
					 <source  src="./vid/video4.ogv" type='video/ogg' />
				</video>
				<video id="motionDeltaMead" class="video-js"  autoplay preload="auto" width="100%" height="100%">
					 <source  src="./vid/motionDeltaMead.mp4" type='video/mp4' />
					 <source  src="./vid/motionDeltaMead.webm" type='video/webm' />
					 <source  src="./vid/motionDeltaMead.ogv" type='video/ogg' />
				</video>
				<video id="videoAct5" class="video-js"  autoplay preload="auto" width="100%" height="100%">
					 <source  src="./vid/video5.mp4" type='video/mp4' />
					 <source  src="./vid/video5.webm" type='video/webm' />
					 <source  src="./vid/video5.ogv" type='video/ogg' />
				</video>
			</div>
			<div class="videoControls" id="videoControls">
				<div id="progressBar">
					<svg width="100%">
						<g id="progressPath" transform="scale(1)">
						    <circle id="circleLeft" cx="45" cy="16" r="15" stroke-width="2" stroke="white" fill="none" />
						    <line id="progressLine" x1="60" y1="16" x2="1220" y2="16" stroke-width="2" stroke="white" />
						    <circle id="circleRight" cx="1235" cy="16" r="15" stroke-width="2" stroke="white" fill="none" />
						    <rect id="progressClickOverlay" transform="translate(30,0)" height="2em" fill="white" fill-opacity="0" />
						    <g class="diamonds"><!-- Diamonds Generated Here --></g>
						    <circle id="drag" cx="45" cy="16" r="10" stroke-width="2" stroke="white" fill-opacity="0" fill="white" />
						</g>
						<g id="playerOptions" transform="scale(1)">
							<g id="fullscreenOn">
								<path stroke="white" stroke-width="2" fill="white" fill-opacity="0" d="M28,2h-6c-1.104,0-2,0.896-2,2s0.896,2,2,2h1.2L18.6,10.601C18.279,10.921,18,11.344,18,12c0,1.094,0.859,2,2,2
									c0.641,0,1.049-0.248,1.4-0.6L26,8.8V10c0,1.104,0.896,2,2,2s2-0.896,2-2V4C30,2.896,29.104,2,28,2z M12,18
									c-0.641,0-1.049,0.248-1.4,0.6L6,23.2V22c0-1.104-0.896-2-2-2s-2,0.896-2,2v6c0,1.104,0.896,2,2,2h6c1.104,0,2-0.896,2-2
									s-0.896-2-2-2H8.8l4.6-4.602C13.72,21.079,14,20.656,14,20C14,18.906,13.141,18,12,18z"/>
							</g>
							<g id="fullscreenOff">
								<path stroke="white" stroke-width="2" fill="white" fill-opacity="0" d="M55.877,18h-6c-1.104,0-2,0.896-2,2s0.896,2,2,2h1.2l-4.601,4.602c-0.32,0.319-0.6,0.742-0.6,1.398c0,1.094,0.859,2,2,2
									c0.641,0,1.049-0.248,1.4-0.6l4.6-4.601V26c0,1.104,0.896,2,2,2s2-0.896,2-2v-6C57.877,18.896,56.98,18,55.877,18z M39.877,34
									c-0.641,0-1.049,0.248-1.4,0.6l-4.6,4.601V38c0-1.104-0.896-2-2-2s-2,0.896-2,2v6c0,1.104,0.896,2,2,2h6c1.104,0,2-0.896,2-2
									s-0.896-2-2-2h-1.2l4.601-4.602c0.32-0.319,0.6-0.742,0.6-1.398C41.877,34.906,41.018,34,39.877,34z"/>
								<path stroke="white" stroke-width="2" fill="white" fill-opacity="0" d="M87.875-14h-6c-1.104,0-2,0.896-2,2s0.896,2,2,2h1.2l-4.601,4.602c-0.32,0.319-0.6,0.742-0.6,1.398c0,1.094,0.859,2,2,2
									c0.641,0,1.049-0.248,1.4-0.6l4.6-4.601V-6c0,1.104,0.896,2,2,2s2-0.896,2-2v-6C89.875-13.104,88.979-14,87.875-14z M71.875,2
									c-0.641,0-1.049,0.248-1.4,0.6l-4.6,4.601V6c0-1.104-0.896-2-2-2s-2,0.896-2,2v6c0,1.104,0.896,2,2,2h6c1.104,0,2-0.896,2-2
									s-0.896-2-2-2h-1.2l4.601-4.602c0.32-0.319,0.6-0.742,0.6-1.398C73.875,2.906,73.016,2,71.875,2z"/>
							</g>
							<g id="soundOn">
								<path transform="scale(.06)" stroke="white" stroke-width="25" fill="white" fill-opacity="0" d="M319.967,503.497v-67.34C394.335,409.732,447.9,339.457,447.9,256c0-83.426-53.564-153.732-127.934-180.156V8.503
									C430.254,36.988,511.867,136.812,511.867,256C511.867,375.188,430.254,475.043,319.967,503.497z M256,511.868L128.066,383.936
									h-95.95c-17.679,0-31.983-14.307-31.983-31.983V160.05c0-17.679,14.306-31.983,31.983-31.983h95.95L256,0.133
									c0,0,31.982-3.998,31.982,31.983c0,72.899,0,382.053,0,447.769C287.983,515.866,256,511.868,256,511.868z M224.017,128.066
									l-63.967,63.967H64.099v127.934h95.951l63.967,63.969V128.066L224.017,128.066z M415.916,256
									c0,59.532-40.854,109.132-95.949,123.404v-68.309c19.053-11.087,31.982-31.482,31.982-55.096c0-23.612-12.931-44.008-31.982-55.097
									v-68.308C375.063,146.869,415.916,196.469,415.916,256z"/>
							</g>
							<g id="soundOff">
								<path transform="scale(.06)" stroke="white" stroke-width="25" fill="white" fill-opacity="0" d="M511.603,303.727l-47.694,47.726l-47.726-47.726l-47.726,47.726l-47.693-47.726L368.457,256l-47.693-47.725l47.693-47.726
									l47.726,47.726l47.726-47.726l47.694,47.726L463.907,256L511.603,303.727z M256.266,511.868L128.332,383.936H32.381
									c-17.678,0-31.983-14.307-31.983-31.983V160.05c0-17.679,14.307-31.983,31.983-31.983h95.951L256.266,0.133
									c0,0,31.983-3.998,31.983,31.983c0,173.535,0,425.718,0,447.769C288.249,515.866,256.266,511.868,256.266,511.868z M224.282,128.066
									l-63.968,63.967H64.364v127.934h95.951l63.968,63.969V128.066z"/>
							</g>
							<!-- Fullscreen Toggle and Audio Toggle Go Here -->
						</g>
					</svg>
				</div>
			</div>
			<div class="overlayWrapper">
				<div id="playToggle"></div>
				<div id="dragWrapper" style="width:100%;">
					<svg id="dragPath" width="100%" height="151px">
						<g transform="scale(1)" id="svgPath">
							<polygon fill="#FFFFFF" points="316.021,94.307 301.247,79.885 315.675,65.101 330.444,79.534"/>
							<g clip-path="url(#SVGID_4_)">
								<polygon fill="#FFFFFF" points="9.62,83.774 5.231,79.487 9.515,75.096 13.903,79.385"/>
								<polygon fill="#FFFFFF" points="24.46,83.774 20.072,79.487 24.355,75.096 28.744,79.385"/>
								<polygon fill="#FFFFFF" points="39.301,83.774 34.913,79.487 39.196,75.096 43.584,79.385"/>
								<polygon fill="#FFFFFF" points="54.142,83.774 49.753,79.487 54.037,75.096 58.425,79.385"/>
								<polygon fill="#FFFFFF" points="68.982,83.774 64.594,79.487 68.877,75.096 73.266,79.385"/>
								<polygon fill="#FFFFFF" points="83.823,83.774 79.435,79.487 83.718,75.096 88.106,79.385"/>
								<polygon fill="#FFFFFF" points="98.663,83.774 94.275,79.487 98.559,75.096 102.947,79.385"/>	
								<rect x="110.384" y="76.368" transform="matrix(0.7153 0.6988 -0.6988 0.7153 87.811 -56.667)" fill="#FFFFFF" width="6.135" height="6.134"/>		
								<rect x="125.225" y="76.368" transform="matrix(0.7153 0.6989 -0.6989 0.7153 92.0442 -67.0397)" fill="#FFFFFF" width="6.134" height="6.134"/>		
								<rect x="140.066" y="76.368" transform="matrix(0.7153 0.6989 -0.6989 0.7153 96.27 -77.4114)" fill="#FFFFFF" width="6.134" height="6.134"/>
							</g>
							<g clip-path="url(#SVGID_4_)">
								<polygon fill="#FFFFFF" points="156.356,83.774 151.968,79.487 156.251,75.096 160.64,79.385"/>
								<polygon fill="#FFFFFF" points="171.197,83.774 166.808,79.487 171.092,75.096 175.48,79.385"/>
								<polygon fill="#FFFFFF" points="186.038,83.774 181.649,79.487 185.932,75.096 190.321,79.385"/>
								<polygon fill="#FFFFFF" points="200.878,83.774 196.489,79.487 200.773,75.096 205.161,79.385"/>
								<polygon fill="#FFFFFF" points="215.719,83.774 211.33,79.487 215.613,75.096 220.002,79.385"/>
								<polygon fill="#FFFFFF" points="230.56,83.774 226.17,79.487 230.454,75.096 234.843,79.385"/>
								<rect x="242.28" y="76.368" transform="matrix(0.7154 0.6987 -0.6987 0.7154 125.3241 -148.8186)" fill="#FFFFFF" width="6.136" height="6.134"/>
								<polygon fill="#FFFFFF" points="260.241,83.774 255.852,79.487 260.136,75.096 264.524,79.385"/>				
								<rect x="271.961" y="76.367" transform="matrix(0.7155 0.6987 -0.6987 0.7155 133.7572 -169.5492)" fill="#FFFFFF" width="6.136" height="6.135"/>		
								<rect x="286.802" y="76.367" transform="matrix(0.7154 0.6987 -0.6987 0.7154 137.9945 -179.9262)" fill="#FFFFFF" width="6.136" height="6.135"/>
								<defs>
									<rect id="SVGID_5_" x="0.429" y="43.273" width="301.404" height="70.183"/>
								</defs>
								<clipPath id="SVGID_6_">
									<use xlink:href="#SVGID_5_"  overflow="visible"/>
								</clipPath>
							</g>
						</g>
						<g id="dragButton">	
							<g transform="scale(.85)" id="resumeVideo">
								<polygon fill="#FFFFFF" points="77.207,9.191 72.574,4.633 77.128,0 81.762,4.553"/>
								<path fill="#FFFFFF" d="M78.46,150.427c-40.803,0.351-74.283-32.556-74.639-73.355C3.553,46.054,22.88,17.934,51.922,7.086
									l1.476,3.954C26.016,21.268,7.785,47.784,8.04,77.033c0.332,38.474,31.91,69.506,70.385,69.173
									c38.473-0.333,69.506-31.911,69.17-70.383c-0.254-29.134-18.842-55.293-46.25-65.108l1.418-3.977
									c29.069,10.406,48.783,38.158,49.053,69.048C152.171,116.59,119.261,150.071,78.46,150.427z"/>
								<polygon fill="#FFFFFF" points="91.179,10.629 96.571,7.01 92.942,1.617 87.55,5.243 "/>
								<rect x="58.877" y="3.212" transform="matrix(0.8389 0.5443 -0.5443 0.8389 13.5255 -32.7727)" fill="#FFFFFF" width="6.497" height="6.5"/>
								<path fill="#FFFFFF" d="M101.257,82.128c-2.783,0-4.829,2.599-4.829,6.646s2.116,6.691,4.921,6.691
									c2.783,0,4.852-2.599,4.852-6.646S104.062,82.128,101.257,82.128z"/>
								<path fill="#FFFFFF" d="M76.768,22.891c-29.896,0.261-54.006,24.785-53.746,54.683c0.261,29.896,24.79,54.002,54.686,53.742
									c29.894-0.259,54-24.786,53.739-54.684C131.189,46.737,106.662,22.633,76.768,22.891z M42.032,67.992h-3.816v6.853h-1.794
									V58.748h6.37c2.828,0,5.012,1.449,5.012,4.553c0,2.507-1.494,4.07-3.793,4.554l3.541,6.99h-2.07L42.032,67.992z M53.647,96.845
									h-1.979l-5.473-16.097h1.887l3.586,11.015c0.322,0.966,0.828,2.599,0.989,3.174c0.161-0.575,0.713-2.277,1.012-3.22l3.61-10.969
									h1.84L53.647,96.845z M61.443,74.845H51.372V58.748h9.727v1.633h-7.934v5.059h4.6v1.633h-4.6v6.14h8.278V74.845z M64.366,96.845
									h-1.794V80.748h1.794V96.845z M63.286,72.867l1.195-1.334c1.219,1.173,2.621,1.932,4.277,1.932c2.139,0,3.473-1.058,3.473-2.759
									c0-1.495-0.897-2.346-3.841-3.403c-3.472-1.242-4.646-2.369-4.646-4.691c0-2.575,2.023-4.116,5.037-4.116
									c2.16,0,3.541,0.644,4.897,1.725l-1.149,1.403c-1.174-0.966-2.254-1.495-3.863-1.495c-2.208,0-3.128,1.104-3.128,2.368
									c0,1.334,0.599,2.093,3.817,3.242c3.564,1.288,4.668,2.484,4.668,4.875c0,2.53-1.978,4.484-5.335,4.484
									C66.505,75.098,64.55,74.155,63.286,72.867z M72.646,96.845h-3.932V80.748h4.254c4.23,0,7.335,2.415,7.335,7.934
									C80.303,94.522,76.945,96.845,72.646,96.845z M76.718,68.314v-9.566h1.793v9.521c0,3.472,1.334,5.196,4.116,5.196
									s3.886-1.679,3.886-5.15v-9.566h1.794v9.521c0,4.461-1.908,6.829-5.771,6.829C78.694,75.098,76.718,72.775,76.718,68.314z
									 M93.459,96.845H83.388V80.748h9.727v1.633h-7.934v5.059h4.6v1.633h-4.6v6.14h8.278V96.845z M93.23,62.221v12.624h-1.725V58.748
									h2.001l3.793,9.635c0.392,0.966,0.967,2.461,1.15,3.128c0.207-0.69,0.781-2.185,1.15-3.128l3.84-9.635h1.954v16.097h-1.725
									V62.221c-0.161,0.621-0.62,1.816-0.966,2.667l-4.3,10.371l-4.231-10.371C93.828,64.061,93.392,62.842,93.23,62.221z
									 M101.28,97.098c-4.002,0-6.646-3.426-6.646-8.278c0-4.852,2.691-8.324,6.691-8.324c4.002,0,6.669,3.427,6.669,8.278
									S105.28,97.098,101.28,97.098z M108.71,74.845V58.748h9.727v1.633h-7.934v5.059h4.6v1.633h-4.6v6.14h8.279v1.633H108.71z"/>
								<path fill="#FFFFFF" d="M72.829,82.381h-2.322v12.831h2.369c3.472,0,5.633-1.84,5.633-6.462
									C78.509,84.635,76.532,82.381,72.829,82.381z"/>
								<path fill="#FFFFFF" d="M46.011,63.37c0-1.978-1.15-2.989-3.289-2.989h-4.506v6.002h4.276
									C44.884,66.383,46.011,65.394,46.011,63.37z"/>
							</g>
							<g transform="scale(.85)" id="dragArrow">
								<polygon fill="#FFFFFF" points="77.026,9.191 72.394,4.633 76.947,0 81.582,4.553 			"/>
								<path fill="#FFFFFF" d="M78.28,150.427c-40.803,0.351-74.284-32.556-74.639-73.355C3.372,46.054,22.7,17.934,51.741,7.086
									l1.476,3.954C25.835,21.268,7.604,47.784,7.86,77.033c0.332,38.474,31.91,69.506,70.384,69.173
									c38.473-0.333,69.506-31.911,69.17-70.383c-0.253-29.134-18.841-55.293-46.25-65.108l1.418-3.977
									c29.07,10.406,48.783,38.158,49.053,69.048C151.99,116.59,119.08,150.071,78.28,150.427z"/>
								<polygon fill="#FFFFFF" points="90.998,10.629 96.391,7.01 92.761,1.617 87.369,5.243 			"/>
								<rect x="58.696" y="3.212" transform="matrix(0.8389 0.5443 -0.5443 0.8389 13.4948 -32.6724)" fill="#FFFFFF" width="6.497" height="6.499"/>
								<path fill="#FFFFFF" d="M77.446,23.072c-29.928,0-54.277,24.346-54.277,54.273c0,29.926,24.349,54.274,54.277,54.274
									c29.925,0,54.276-24.349,54.276-54.274C131.722,47.418,107.372,23.072,77.446,23.072z M66.623,108.363l-5.182-5.481L86.531,77.35
									L61.441,51.438l5.182-5.108L97.632,77.35L66.623,108.363z"/>
							</g>
							<rect id="dragClick" fill="#fff" fill-opacity="0" width="149" height="151"/>
						</g>
					</svg>
				</div>
			</div> 
</div>


<!-- Start Scripts -->
<script>
// Universal Variables 
var windowHeight = $(window).height();
var windowWidth = $(window).width();
var windowAspectRatio = parseFloat(windowWidth/windowHeight).toFixed(2);
var widthAspectRatio = 1.77;
var heightAspectRatio = 0.5625;

</script>
<script src="./js/sequence.js"></script>
<script src="./js/loops.js"></script>
<script src="./js/app.js"></script>
<script src='./js/videoTransitions.js'></script>
<script src='./js/slideToContinue.js'></script>
<script src="./js/progressBar.js"></script>
<script>
var panPlayer = new Player(sequence);
// TODO do I need to pass pageWrapper in also inorder to get the offset correct?
new ProgressBar("progressBar", "progressClickOverlay", "pageWrapper", "videoControls", "drag", panPlayer);

// Play/Pause wrapper
$('#playToggle').click(function() {
	if (panPlayer.paused()) {
		panPlayer.play();
	    console.log('Play!');
	}
	else {
    	panPlayer.pause();
	    console.log('Pause!');
	}
});


// Toggle Audio Mute
$('#soundOn').click(function() {
  panPlayer.volume(0);
  $(this).hide();
  $('#soundOff').show();
})
$('#soundOff').click(function() {
  panPlayer.volume(1);
  $(this).hide();
  $('#soundOn').show();
})

// panPlayer.ready(function() {
// 	console.log("Ready");
// 	panPlayer.play();
// })

</script>
<!-- End Scripts	 -->
</body>
</html>